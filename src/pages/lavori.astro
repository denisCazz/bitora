---
import Layout from '../layouts/Layout.astro';

// Case study dettagliati con metriche realistiche
const caseStudies = [
  {
    id: 'mistral-impianti',
    title: 'Mistral Impianti Elettrici',
    subtitle: 'Digitalizzazione completa per azienda di impianti elettrici',
    category: 'B2B ‚Ä¢ Impianti Elettrici',
    location: 'Roreto (TO)',
    imageUrl: '/mistral.jpg',
    siteUrl: 'https://mistralimpianti.it',
    challenge: 'Mistral Impianti Elettrici aveva difficolt√† a gestire le richieste di preventivi e a essere trovata online dai clienti locali.',
    solution: 'Sito web responsive + sistema CRM integrato + SEO locale avanzata + tessera NFC per i tecnici.',
    results: [
      { metric: '+40%', description: 'Richieste preventivi online' },
      { metric: '8h', description: 'Risparmiate per settimana' },
      { metric: 'Top 3', description: 'Su Google per "elettricista Roreto"' },
      { metric: '4.6‚òÖ', description: 'Rating Google con 23 recensioni' }
    ],
    technologies: ['Astro', 'Tailwind CSS', 'Contact Forms', 'Google Analytics', 'NFC Cards'],
    testimonial: "Abbiamo digitalizzato completamente i nostri processi. Ora i clienti ci trovano facilmente online e possiamo gestire preventivi e appuntamenti in automatico. I risultati sono stati straordinari.",
    clientName: 'Roberto',
    clientRole: 'Titolare',
    timeline: '3 settimane',
    featured: true,
    
  },
  {
    id: 'kristina',
    title: 'Kristina',
    subtitle: 'Portfolio digitale per sartoria artigianale',
    category: 'Artigianato ‚Ä¢ Portfolio',
    location: 'Carmagnola (TO)',
    imageUrl: '/sartoria_kristina.png',
    siteUrl: 'https://sartoriakristina.it',
    challenge: 'Sartoria artigianale con portfolio solo fisico, difficolt√† a mostrare i lavori e acquisire nuovi clienti.',
    solution: 'Portfolio digitale elegante + Biglietto NFC smart + Sistema appuntamenti + Galleria lavori.',
    results: [
      { metric: '+5', description: 'Nuovi clienti/settimana' },
      { metric: '75%', description: 'Conversione da portfolio digitale' },
      { metric: '+85%', description: 'Visibilit√† su social media' },
      { metric: '4.7‚òÖ', description: 'Soddisfazione clienti' }
    ],
    technologies: ['Portfolio Gallery', 'Appointment Booking', 'NFC Business Card', 'Social Integration'],
    testimonial: "Il biglietto NFC professionale mi ha permesso di distinguermi completamente. Ora i clienti accedono al mio portfolio istantaneamente e posso mostrare tutti i miei lavori.",
    clientName: 'Kristina',
    clientRole: 'Sarta & Designer',
    timeline: '2 settimane',
    featured: true,
    
  },
  {
    id: 'speedy-pizza',
    title: 'Speedy Pizza',
    subtitle: 'E-commerce e delivery per pizzeria moderna',
    category: 'Food Delivery ‚Ä¢ E-commerce',
    location: 'Carmagnola (TO)',
    imageUrl: 'https://www.speedy-pizza.it/logo.jpeg',
    siteUrl: 'https://speedy-pizza.it',
    challenge: 'Pizzeria che voleva espandere il delivery online e competere con le grandi piattaforme.',
    solution: 'E-commerce su misura + Menu NFC + Sistema ordini + Integrazione delivery.',
    results: [
      { metric: '+80%', description: 'Ordini online' },
      { metric: '450+', description: 'Ordini mensili' },
      { metric: '28min', description: 'Tempo medio consegna' },
      { metric: '4.5‚òÖ', description: 'Soddisfazione clienti' }
    ],
    technologies: ['E-commerce', 'Payment Gateway', 'Order Management', 'Delivery Tracking'],
    testimonial: "Il sito di Bitora ci ha permesso di avere il nostro canale di vendita indipendente. Non dipendiamo pi√π solo dalle piattaforme esterne e i margini sono molto migliori.",
    clientName: 'Adele',
    clientRole: 'Titolare',
    timeline: '4 settimane',
    featured: true,
    caseStudyUrl: '/progetti/speedy-pizza',
    
  },
  {
    id: 'bar-chantilly',
    title: 'Bar Chantilly',
    subtitle: 'Digitalizzazione completa bar moderno - IN CORSO',
    category: 'Bar ‚Ä¢ Work in Progress',
    location: 'Carmagnola (TO)',
    imageUrl: '/code.jpg',
    siteUrl: '#',
    challenge: 'Bar moderno che vuole innovare il servizio clienti con tecnologie NFC e sistema prenotazioni.',
    solution: 'Menu NFC interattivo + Sistema prenotazioni + App mobile + Loyalty program.',
    results: [
      { metric: 'In corso', description: 'Sviluppo menu NFC' },
      { metric: 'In corso', description: 'Sistema prenotazioni' },
      { metric: 'In corso', description: 'App mobile' },
      { metric: 'Q1 2025', description: 'Launch previsto' }
    ],
    technologies: ['Menu NFC', 'Mobile App', 'Loyalty System', 'Booking Platform'],
    testimonial: "Stiamo lavorando con Bitora per rivoluzionare completamente l'esperienza del nostro bar. I primi test sono molto promettenti!",
    clientName: 'Marco Chantilly',
    clientRole: 'Titolare',
    timeline: 'In corso - 6 settimane',
    featured: false,
    isWip: true
  }
];

const stats = [
  { number: '87+', label: 'Progetti completati' },
  { number: '96%', label: 'Clienti soddisfatti' },
  { number: '+45%', label: 'Incremento lead medi' },
  { number: '48h', label: 'Tempo medio setup' }
];
---

<Layout
  title="Portfolio Case Study | Progetti Web Design e Tecnologie NFC | Bitora"
  description="Case study dettagliati dei nostri progetti: siti web professionali, ecosistemi NFC e soluzioni digitali complete per ristoranti e aziende innovative."
>
  <!-- Hero Section -->
  <section class="py-20 md:py-28 bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <div class="inline-flex items-center bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-6">
          üèÜ Portfolio & Case Study
        </div>
        
        <h1 class="text-5xl md:text-6xl font-bold tracking-tight mb-6">
          Progetti che <span class="text-primary">generano risultati</span><br/>
          per il territorio piemontese
        </h1>
        
        <p class="text-xl text-gray-600 dark:text-gray-300 mb-12 max-w-3xl mx-auto">
          Scopri come abbiamo aiutato oltre 87 attivit√† in Piemonte a crescere online e offline con risultati misurabili
        </p>
        
        <!-- Stats rapide -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto mb-8">
          {stats.map(stat => (
            <div class="text-center bg-white/80 dark:bg-gray-800/80 backdrop-blur rounded-xl p-4 shadow-lg">
              <div class="text-2xl md:text-3xl font-bold text-primary mb-2">{stat.number}</div>
              <div class="text-sm text-gray-600 dark:text-gray-400">{stat.label}</div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Filtri e Categorie -->
  <section class="py-6 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 top-16 z-40">
    <div class="container mx-auto px-4">
      <div class="flex justify-center">
        <div class="flex gap-2 bg-gray-50 dark:bg-gray-800 rounded-xl p-1 shadow-lg border border-gray-200 dark:border-gray-700">
          <button class="filter-btn active px-4 py-2 rounded-lg bg-primary text-white font-semibold transition-all duration-300 text-sm" data-filter="all">
            Tutti
          </button>
          <button class="filter-btn px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold transition-all duration-300 text-sm" data-filter="featured">
            üèÜ Featured
          </button>
          <button class="filter-btn px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold transition-all duration-300 text-sm" data-filter="ristoranti">
            üçï Ristoranti
          </button>
          <button class="filter-btn px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold transition-all duration-300 text-sm" data-filter="servizi">
            üíº Servizi
          </button>
          <button class="filter-btn px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-semibold transition-all duration-300 text-sm" data-filter="wip">
            üöß WIP
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Griglia Progetti -->
  <section class="py-12 md:py-20 bg-gray-50 dark:bg-gray-800">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 max-w-7xl mx-auto">
        {caseStudies.map(caseStudy => (
          <div class={`project-card bg-white dark:bg-gray-900 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2 overflow-hidden ${caseStudy.featured ? 'featured' : ''} ${caseStudy.category.includes('Ristorazione') || caseStudy.category.includes('Food') ? 'ristoranti' : ''} ${caseStudy.category.includes('B2B') || caseStudy.category.includes('Artigianato') ? 'servizi' : ''} ${caseStudy.isWip ? 'wip' : ''}`}>
            
            {/* Header con badge */}
            <div class="relative">
              <div class="absolute top-4 left-4 z-10">
                <span class="inline-flex items-center bg-white/90 dark:bg-gray-900/90 text-gray-800 dark:text-gray-200 px-3 py-1 rounded-full text-xs font-medium backdrop-blur">
                  {caseStudy.category}
                </span>
              </div>
              
              {caseStudy.featured && (
                <div class="absolute top-4 right-4 z-10">
                  <span class="inline-flex items-center bg-primary/90 text-white px-3 py-1 rounded-full text-xs font-bold backdrop-blur">
                    ‚≠ê Featured
                  </span>
                </div>
              )}
              
              {caseStudy.isWip && (
                <div class="absolute top-4 right-4 z-10">
                  <span class="inline-flex items-center bg-orange-500/90 text-white px-3 py-1 rounded-full text-xs font-bold backdrop-blur">
                    üöß WIP
                  </span>
                </div>
              )}
              
              <div class="aspect-video bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 flex items-center justify-center">
                {caseStudy.imageUrl ? (
                  <img src={caseStudy.imageUrl} alt={caseStudy.title} class="w-full h-full object-cover" loading="lazy" />
                ) : (
                  <div class="text-4xl opacity-50">üè¢</div>
                )}
              </div>
            </div>
            
            {/* Content */}
            <div class="p-4 md:p-6">
              <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-3 gap-2">
                <h3 class="text-lg md:text-xl font-bold text-gray-900 dark:text-white">{caseStudy.title}</h3>
                <span class="text-xs md:text-sm text-gray-500 dark:text-gray-400 self-start sm:self-auto">üìç {caseStudy.location}</span>
              </div>
              
              <p class="text-gray-600 dark:text-gray-300 mb-4 text-sm md:text-base">{caseStudy.subtitle}</p>
              
              {/* Risultati rapidi */}
              <div class="grid grid-cols-2 gap-2 md:gap-3 mb-4 md:mb-6">
                {caseStudy.results.slice(0, 4).map(result => (
                  <div class="text-center p-2 md:p-3 bg-gray-50 dark:bg-gray-800 rounded-lg">
                    <div class="text-sm md:text-lg font-bold text-primary mb-1">{result.metric}</div>
                    <div class="text-xs text-gray-600 dark:text-gray-400">{result.description}</div>
                  </div>
                ))}
              </div>
              
              
              
              {/* Timeline */}
              <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2">
                <div class="flex items-center gap-2 text-xs md:text-sm text-gray-600 dark:text-gray-400">
                  <span>‚è±Ô∏è</span>
                  <span>Timeline: {caseStudy.timeline}</span>
                </div>
                <div class="flex items-center gap-2 text-xs md:text-sm text-gray-600 dark:text-gray-400">
                  <span>‚≠ê</span>
                  <span>{caseStudy.clientName}</span>
                </div>
              </div>
              
              {/* CTA Buttons */}
              <div class="flex flex-col sm:flex-row gap-2">
                <a 
                  href={caseStudy.caseStudyUrl || `/progetti/${caseStudy.id}`} 
                  class="flex-1 px-3 md:px-4 py-2 bg-primary text-white text-center rounded-lg font-semibold hover:bg-primary-600 transition-colors text-xs md:text-sm"
                >
                  Case Study
                </a>
                {caseStudy.siteUrl !== '#' && !caseStudy.isWip && (
                  <a 
                    href={caseStudy.siteUrl} 
                    target="_blank" 
                    rel="noopener" 
                    class="px-3 md:px-4 py-2 border border-primary text-primary hover:bg-primary hover:text-white rounded-lg font-semibold transition-colors text-xs md:text-sm text-center"
                  >
                    Visita
                  </a>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>
      
      <!-- Testimonianza in evidenza -->
      <div class="mt-12 md:mt-16 max-w-4xl mx-auto">
        <div class="bg-gradient-to-r from-primary/10 to-purple-500/10 dark:from-primary/20 dark:to-purple-500/20 p-6 md:p-8 rounded-2xl border border-primary/20 dark:border-primary/30">
          <div class="text-center mb-6">
            <h3 class="text-xl md:text-2xl font-bold mb-2 text-gray-900 dark:text-white">Cosa dicono i nostri clienti</h3>
            <p class="text-gray-600 dark:text-gray-300 text-sm md:text-base">Risultati reali da attivit√† piemontesi</p>
          </div>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
            <blockquote class="bg-white dark:bg-gray-900 p-4 md:p-6 rounded-xl shadow-md">
              <p class="text-gray-700 dark:text-gray-300 mb-4 italic text-sm md:text-base">"Abbiamo digitalizzato i nostri processi e i risultati sono stati straordinari."</p>
              <footer class="text-xs md:text-sm">
                <strong class="text-primary">Roberto</strong><br/>
                <span class="text-gray-600 dark:text-gray-400">Mistral Impianti Elettrici</span>
              </footer>
            </blockquote>
            
            <blockquote class="bg-white dark:bg-gray-900 p-4 md:p-6 rounded-xl shadow-md">
              <p class="text-gray-700 dark:text-gray-300 mb-4 italic text-sm md:text-base">"Il biglietto NFC mi ha permesso di distinguermi completamente."</p>
              <footer class="text-xs md:text-sm">
                <strong class="text-primary">Kristina</strong><br/>
                <span class="text-gray-600 dark:text-gray-400">Kristina - Sartoria</span>
              </footer>
            </blockquote>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Metriche Aggregate -->
  <section class="py-12 md:py-16 bg-white dark:bg-gray-900">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-2xl md:text-3xl font-bold mb-4 md:mb-6 text-gray-900 dark:text-white">I numeri del successo</h2>
        <p class="text-lg md:text-xl text-gray-600 dark:text-gray-300 mb-8 md:mb-12">Dati aggregati dei nostri clienti negli ultimi 18 mesi</p>
        
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-8">
          <div class="text-center">
            <div class="text-2xl md:text-4xl font-bold text-primary mb-2">2.840+</div>
            <div class="text-xs md:text-sm text-gray-600 dark:text-gray-400">Lead qualificati generati</div>
          </div>
          <div class="text-center">
            <div class="text-2xl md:text-4xl font-bold text-green-600 mb-2">+45%</div>
            <div class="text-xs md:text-sm text-gray-600 dark:text-gray-400">Incremento medio visite</div>
          </div>
          <div class="text-center">
            <div class="text-2xl md:text-4xl font-bold text-blue-600 mb-2">1.840+</div>
            <div class="text-xs md:text-sm text-gray-600 dark:text-gray-400">Nuovi clienti acquisiti</div>
          </div>
          <div class="text-center">
            <div class="text-2xl md:text-4xl font-bold text-purple-600 mb-2">4.6‚òÖ</div>
            <div class="text-xs md:text-sm text-gray-600 dark:text-gray-400">Rating medio Google</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA finale -->
  <section class="py-16 md:py-20 bg-gradient-to-r from-primary to-purple-600 text-white">
    <div class="container mx-auto px-4 text-center">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4 md:mb-6">
          Il tuo progetto potrebbe essere il prossimo
        </h2>
        
        <p class="text-lg md:text-xl mb-6 md:mb-8 opacity-95 max-w-2xl mx-auto">
          Abbiamo l'esperienza e le competenze per trasformare la tua idea in un progetto di successo. 
          Parliamone insieme!
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 md:gap-6 justify-center items-center">
          <a href="/contattaci" class="w-full sm:w-auto px-6 md:px-8 py-3 md:py-4 bg-white text-primary rounded-lg font-semibold hover:bg-gray-100 transition-colors text-base md:text-lg">
            Inizia il tuo progetto
          </a>
          
          <a href="/prezzi" class="w-full sm:w-auto px-6 md:px-8 py-3 md:py-4 border-2 border-white text-white rounded-lg font-semibold hover:bg-white hover:text-primary transition-colors text-base md:text-lg">
            Vedi i prezzi
          </a>
        </div>
        
        <div class="mt-6 md:mt-8 text-xs md:text-sm opacity-80">
          üí¨ Consulenza gratuita ‚Ä¢ üöÄ Setup in 24h ‚Ä¢ ‚úÖ Risultati misurabili
        </div>
      </div>
    </div>
  </section>
</Layout>

<script>
  // Filtro progetti
  const filterButtons = document.querySelectorAll('.filter-btn');
  const projectCards = document.querySelectorAll('.project-card');
  
  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      const filter = button.getAttribute('data-filter');
      
      // Update active button
      filterButtons.forEach(btn => {
        btn.classList.remove('active', 'bg-primary', 'text-white');
        btn.classList.add('text-gray-700', 'dark:text-gray-300');
      });
      
      button.classList.add('active', 'bg-primary', 'text-white');
      button.classList.remove('text-gray-700', 'dark:text-gray-300');
      
      // Filter projects
      projectCards.forEach(card => {
        const htmlCard = card as HTMLElement;
        if (filter === 'all') {
          htmlCard.style.display = 'block';
          htmlCard.style.animation = 'fadeIn 0.5s ease-in-out';
        } else {
          if (card.classList.contains(filter)) {
            htmlCard.style.display = 'block';
            htmlCard.style.animation = 'fadeIn 0.5s ease-in-out';
          } else {
            htmlCard.style.display = 'none';
          }
        }
      });
    });
  });
  
  // Animation keyframes
  const style = document.createElement('style');
  style.textContent = `
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  `;
  document.head.appendChild(style);
</script>
