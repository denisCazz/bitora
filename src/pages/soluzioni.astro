---
import Layout from '../layouts/Layout.astro';
import NeonCircles from '../components/NeonCircles.astro';

const solutions = [
  {
    title: 'Digital Experience',
    subtitle: 'Web Design & SEO',
    description: 'Siti web che non sono solo vetrine, ma strumenti di crescita. Ottimizzati per Google e per le risposte AI.',
    features: ['Design Mobile-First', 'SEO Locale (Carmagnola/Torino)', 'Tempi di caricamento < 1s'],
    image: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=2426&auto=format&fit=crop',
    link: '/contattaci?topic=web',
    cta: 'Inizia il progetto'
  },
  {
    title: 'Phygital NFC',
    subtitle: 'Connessione Fisica-Digitale',
    description: 'Tessere, espositori e gadget che aprono mondi digitali con un tocco. Perfetti per networking e retail.',
    features: ['Chip NTAG213 Alta Qualità', 'Dashboard di gestione', 'Analytics in tempo reale'],
    image: 'https://images.unsplash.com/photo-1512756290469-ec264b7fbf87?q=80&w=2553&auto=format&fit=crop',
    link: '/nfc-ecosystem',
    cta: 'Scopri NFC'
  },
  {
    title: 'Bitora CRM',
    subtitle: 'Gestione Centralizzata',
    description: 'Il cuore pulsante del tuo business. Gestisci contatti, lead e automazioni in un\'unica piattaforma intuitiva.',
    features: ['Lead Scoring AI', 'Automazioni WhatsApp', 'Multi-utente'],
    image: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2670&auto=format&fit=crop',
    link: '/bitora-crm',
    cta: 'Esplora CRM'
  }
];
---

<Layout
  title="Soluzioni Digitali | Bitora"
  description="Web Design, NFC e CRM per aziende che guardano al futuro. Soluzioni integrate per il mercato di Torino e Piemonte."
>
  <main class="bg-black text-white overflow-x-hidden selection:bg-indigo-500 selection:text-white">
    
    <!-- Hero Section -->
    <section class="relative h-screen flex flex-col justify-center items-center text-center px-4 overflow-hidden">
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-900/20 via-black to-black opacity-50"></div>
      <NeonCircles variant="hero" colors={['blue', 'purple']} />
      
      <div class="relative z-10 max-w-5xl mx-auto space-y-8 opacity-0 animate-fade-in-up" style="animation-delay: 0.2s; animation-fill-mode: forwards;">
        <h1 class="text-5xl md:text-8xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-b from-white to-white/60">
          Soluzioni per<br />
          l'era digitale.
        </h1>
        <p class="text-xl md:text-2xl text-gray-400 font-light max-w-2xl mx-auto leading-relaxed">
          Un ecosistema integrato di strumenti per far crescere il tuo business. <br class="hidden md:block" />
          Dal web al fisico, senza interruzioni.
        </p>
      </div>
    </section>

    <!-- Solutions Loop -->
    <div class="space-y-32 pb-32">
      {solutions.map((sol, i) => (
        <section class={`py-20 px-6 md:px-12 relative overflow-hidden ${i % 2 !== 0 ? 'bg-zinc-900/30' : ''}`}>
          {/* Section Neon Accents */}
          <div class="absolute inset-0 pointer-events-none opacity-25">
            <div class={`neon-circle ${i === 0 ? 'neon-blue-subtle' : i === 1 ? 'neon-orange-subtle' : 'neon-purple-soft'} w-[350px] h-[350px] ${i % 2 === 0 ? '-top-[100px] -left-[100px]' : '-top-[100px] -right-[100px]'} animate-neon-float-slow`} style={`animation-delay: ${i * -2}s`}></div>
            <div class={`neon-circle ${i === 0 ? 'neon-orange-subtle' : i === 1 ? 'neon-purple-soft' : 'neon-blue-subtle'} w-[280px] h-[280px] ${i % 2 === 0 ? 'bottom-[10%] -right-[80px]' : 'bottom-[10%] -left-[80px]'} animate-neon-float-reverse`} style={`animation-delay: ${i * -3}s`}></div>
          </div>
          <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-24 items-center relative z-10">
            <div class={`space-y-8 reveal-on-scroll ${i % 2 !== 0 ? 'order-2' : 'order-2 md:order-1'}`}>
              <span class="text-indigo-400 font-medium tracking-wider uppercase text-sm">{sol.subtitle}</span>
              <h2 class="text-4xl md:text-6xl font-bold leading-tight tracking-tight">
                {sol.title}
              </h2>
              <p class="text-lg md:text-xl text-gray-400 leading-relaxed font-light">
                {sol.description}
              </p>
              <ul class="space-y-4 text-gray-300 mt-8">
                {sol.features.map(feat => (
                  <li class="flex items-center gap-4">
                    <span class="flex items-center justify-center w-6 h-6 rounded-full bg-white/5 border border-white/10 text-indigo-400 text-xs">✓</span>
                    <span class="text-lg">{feat}</span>
                  </li>
                ))}
              </ul>
              <div class="pt-8">
                <a href={sol.link} class="inline-block px-8 py-4 bg-white text-black rounded-full font-medium text-lg transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(255,255,255,0.2)]">
                  {sol.cta}
                </a>
              </div>
            </div>
            <div class={`relative group reveal-on-scroll delay-200 ${i % 2 !== 0 ? 'order-1' : 'order-1 md:order-2'}`}>
              <div class="absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-3xl opacity-20 blur-2xl group-hover:opacity-30 transition duration-1000"></div>
              <div class="relative rounded-3xl overflow-hidden aspect-[4/3] shadow-2xl">
                <img 
                  src={sol.image} 
                  alt={sol.title} 
                  class="w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105 opacity-80 group-hover:opacity-100"
                />
              </div>
            </div>
          </div>
        </section>
      ))}
    </div>

    <!-- CTA -->
    <section class="py-40 px-6 text-center border-t border-white/5 relative overflow-hidden">
      <!-- CTA Neon Background -->
      <div class="absolute inset-0 pointer-events-none">
        <div class="neon-circle neon-purple w-[500px] h-[500px] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-neon-pulse-glow opacity-15"></div>
        <div class="neon-circle neon-blue-soft w-[700px] h-[700px] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-neon-breathe opacity-10" style="animation-delay: -2s;"></div>
      </div>
      <div class="max-w-4xl mx-auto reveal-on-scroll relative z-10">
        <h2 class="text-4xl md:text-7xl font-bold mb-8 tracking-tight">Iniziamo a costruire.</h2>
        <p class="text-xl text-gray-400 mb-12 max-w-2xl mx-auto font-light">
          Prenota una call conoscitiva. Analizziamo le tue esigenze e troviamo la soluzione perfetta.
        </p>
        <div class="flex flex-col sm:flex-row gap-6 justify-center items-center">
          <a href="/contattaci" class="min-w-[200px] px-8 py-4 bg-white text-black rounded-full font-medium text-lg transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(255,255,255,0.2)]">
            Parla con noi
          </a>
        </div>
      </div>
    </section>

  </main>
</Layout>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
  }

  .reveal-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .reveal-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  const observerOptions = {
    root: null,
    rootMargin: '0px',
    threshold: 0.1
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.addEventListener('DOMContentLoaded', () => {
    const elements = document.querySelectorAll('.reveal-on-scroll');
    elements.forEach(el => observer.observe(el));
  });
</script>