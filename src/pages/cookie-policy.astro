---
import Layout from '../layouts/Layout.astro';
---

<Layout 
  title="Cookie Policy - Bitora.it"
  description="Informazioni sui cookie utilizzati da Bitora.it, come vengono utilizzati e come gestire le tue preferenze sui cookie."
>
  <main class="bg-black text-white overflow-x-hidden selection:bg-indigo-500 selection:text-white">
    
    <!-- Header -->
    <header class="relative py-24 px-6 md:px-12 text-center border-b border-white/5">
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-900/20 via-black to-black opacity-50"></div>
      
      <div class="relative z-10 max-w-4xl mx-auto animate-fade-in-up">
        <h1 class="text-4xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-b from-white to-white/60">
          Cookie Policy
        </h1>
        <p class="text-xl text-gray-400 max-w-2xl mx-auto">
          Trasparenza e controllo sui tuoi dati.
        </p>
        <div class="mt-8 text-sm text-gray-500 font-mono">
          Ultimo aggiornamento: 11 giugno 2025
        </div>
      </div>
    </header>

    <!-- Content -->
    <article class="max-w-4xl mx-auto px-6 md:px-12 py-16 space-y-16">
      
      <!-- Introduzione -->
      <section class="reveal-on-scroll">
        <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
          <span class="w-8 h-8 rounded-lg bg-indigo-500/20 flex items-center justify-center text-indigo-400 text-sm">01</span>
          Cosa sono i cookie
        </h2>
        <div class="p-6 rounded-2xl bg-zinc-900/50 border border-white/10 mb-6">
          <p class="text-gray-300 leading-relaxed">
            I cookie sono piccoli file di testo che vengono memorizzati sul tuo dispositivo quando visiti un sito web. 
            Ci aiutano a migliorare la tua esperienza di navigazione e a fornire servizi personalizzati.
          </p>
        </div>
        <p class="text-gray-400 leading-relaxed">
          Questo sito web utilizza cookie per garantire il corretto funzionamento del sito, analizzare il traffico e migliorare l'esperienza utente. 
          Puoi gestire le tue preferenze sui cookie in qualsiasi momento.
        </p>
      </section>

      <!-- Tipi di cookie -->
      <section class="reveal-on-scroll">
        <h2 class="text-2xl font-bold text-white mb-8 flex items-center gap-3">
          <span class="w-8 h-8 rounded-lg bg-indigo-500/20 flex items-center justify-center text-indigo-400 text-sm">02</span>
          Tipi di cookie
        </h2>
        
        <div class="grid gap-6">
          <!-- Cookie Necessari -->
          <div class="p-6 rounded-2xl bg-black border border-white/10 hover:border-green-500/30 transition-colors">
            <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-3">
              <div class="w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
              </div>
              Necessari
            </h3>
            <div class="space-y-3 text-sm text-gray-400">
              <p><strong class="text-gray-300">Scopo:</strong> Essenziali per il funzionamento del sito.</p>
              <p><strong class="text-gray-300">Durata:</strong> Sessione o fino a 1 anno.</p>
              <p><strong class="text-gray-300">Esempi:</strong> Sicurezza, preferenze accessibilit√†.</p>
            </div>
          </div>

          <!-- Cookie Analisi -->
          <div class="p-6 rounded-2xl bg-black border border-white/10 hover:border-indigo-500/30 transition-colors">
            <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-3">
              <div class="w-8 h-8 bg-indigo-500/20 rounded-lg flex items-center justify-center">
                <svg class="w-4 h-4 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
              </div>
              Analisi (Umami)
            </h3>
            <div class="space-y-3 text-sm text-gray-400">
              <p><strong class="text-gray-300">Scopo:</strong> Capire come i visitatori usano il sito (anonimo).</p>
              <p><strong class="text-gray-300">Privacy:</strong> No dati personali, GDPR compliant.</p>
              <p><strong class="text-gray-300">Dati:</strong> Pagine visitate, dispositivo, paese.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Gestione -->
      <section class="reveal-on-scroll">
        <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
          <span class="w-8 h-8 rounded-lg bg-indigo-500/20 flex items-center justify-center text-indigo-400 text-sm">03</span>
          Gestione preferenze
        </h2>
        
        <div class="p-8 rounded-3xl bg-zinc-900 border border-white/10 text-center">
          <p class="text-gray-400 mb-6">
            Puoi modificare le tue scelte in qualsiasi momento.
          </p>
          <button 
            id="open-cookie-settings" 
            class="px-6 py-3 bg-white text-black rounded-xl font-bold hover:bg-gray-200 transition-colors"
          >
            Apri pannello cookie
          </button>
        </div>
      </section>

      <!-- Contatti -->
      <section class="reveal-on-scroll border-t border-white/10 pt-12">
        <h2 class="text-2xl font-bold text-white mb-6">Hai domande?</h2>
        <div class="grid md:grid-cols-3 gap-4">
          <a href="mailto:info@bitora.it" class="p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5 text-center">
            <span class="block text-xs text-gray-500 uppercase tracking-wider mb-1">Email</span>
            <span class="text-indigo-400">info@bitora.it</span>
          </a>
          <a href="tel:+393514979670" class="p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5 text-center">
            <span class="block text-xs text-gray-500 uppercase tracking-wider mb-1">Telefono</span>
            <span class="text-indigo-400">+39 351 497 9670</span>
          </a>
          <a href="/contattaci" class="p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/5 text-center">
            <span class="block text-xs text-gray-500 uppercase tracking-wider mb-1">Supporto</span>
            <span class="text-indigo-400">Contattaci</span>
          </a>
        </div>
      </section>

    </article>
  </main>
</Layout>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
  }

  .reveal-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .reveal-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  // Animation Observer
  const observerOptions = {
    root: null,
    rootMargin: '0px',
    threshold: 0.1
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.addEventListener('DOMContentLoaded', () => {
    const elements = document.querySelectorAll('.reveal-on-scroll');
    elements.forEach(el => observer.observe(el));
  });

  // Open cookie settings
  document.getElementById('open-cookie-settings')?.addEventListener('click', () => {
    const event = new CustomEvent('openCookieSettings');
    window.dispatchEvent(event);
  });
</script>
