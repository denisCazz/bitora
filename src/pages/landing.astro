---
import Layout from '../layouts/Layout.astro';

// Tracciamento base UTM per QR
const utm = 'utm_source=offline&utm_medium=qr&utm_campaign=bitora_touchpoint';

// Messaggio precompilato per WhatsApp (includo origine QR)
const whatsappMessage = encodeURIComponent(
  'Ciao Bitora! Ho scansionato il QR. Vorrei parlarti per: [Sito/Restyle/Google Business/SEO Locale/WhatsApp/QR-NFC]. Quando ci sentiamo?'
);
const whatsappLink = `https://wa.me/393514979670?text=${whatsappMessage}&${utm}`;
---

<Layout
  title="Bitora | Scrivimi su WhatsApp"
  description="Hai scansionato il QR: parliamo su WhatsApp. Siti web, restyle, profilo Google, SEO locale, campagne WhatsApp, QR e NFC. Risposta rapida, zero giri di parole."
>
  <main class="bg-black text-white overflow-x-hidden selection:bg-indigo-500 selection:text-white">
    
    <!-- Hero Section -->
    <section class="relative h-[80vh] flex flex-col justify-center items-center text-center px-4">
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-900/20 via-black to-black opacity-50"></div>
      
      <div class="relative z-10 max-w-5xl mx-auto space-y-8 opacity-0 animate-fade-in-up" style="animation-delay: 0.2s; animation-fill-mode: forwards;">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-md text-sm font-medium text-indigo-300 mb-4">
          <span class="relative flex h-2 w-2">
            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"></span>
            <span class="relative inline-flex rounded-full h-2 w-2 bg-indigo-500"></span>
          </span>
          Hai scansionato il QR • Parliamo adesso
        </div>

        <h1 class="text-5xl md:text-8xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-b from-white to-white/60">
          Parliamone <br />
          <span class="text-indigo-400">su WhatsApp.</span>
        </h1>
        
        <p class="text-xl md:text-2xl text-gray-400 font-light max-w-3xl mx-auto leading-relaxed">
          Vuoi un sito fatto bene, un restyle o far trovare la tua attività? <br class="hidden md:block" />
          Zero giri di parole. Se si può fare, partiamo.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center pt-8">
          <a href={whatsappLink} class="px-8 py-4 bg-white text-black rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.2)]">
            Apri WhatsApp adesso
          </a>
          <a href="tel:+393514979670" class="px-8 py-4 bg-white/10 backdrop-blur-md border border-white/20 text-white rounded-full font-bold text-lg hover:bg-white/20 transition-all">
            Preferisci chiamare?
          </a>
        </div>
      </div>
    </section>

    <!-- Services Grid -->
    <section class="py-24 px-6 md:px-12 border-t border-white/5">
      <div class="max-w-7xl mx-auto">
        <div class="text-center mb-16 reveal-on-scroll">
          <h2 class="text-3xl md:text-5xl font-bold text-white mb-6">Scegli cosa ti serve</h2>
          <p class="text-xl text-gray-400 max-w-2xl mx-auto">
            Indicazioni oneste, investimento calibrato. Se non ti conviene, te lo dico prima.
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          {[
            { title: 'Sito Vetrina', desc: 'Pulito, veloce, indicizzato. Niente baracconi.', sub: 'Messa online in 10 giorni' },
            { title: 'Restyle Sito', desc: 'Manteniamo i contenuti, rifacciamo struttura e look.', sub: 'Zero downtime' },
            { title: 'Google Business', desc: 'Verifica, ottimizzazione, categorie, post e foto.', sub: 'Ottimizzazione in 48h' },
            { title: 'SEO Locale', desc: 'Farti trovare nelle ricerche utili, non quelle "vanità".', sub: 'Strategia su misura' },
            { title: 'WhatsApp & Automazioni', desc: 'Script pronti, automazioni base, risposta rapida.', sub: 'Funnel semplice' },
            { title: 'QR & NFC', desc: 'Recensioni, menu, richieste eventi con un tap.', sub: 'Kit completo' }
          ].map((item, index) => (
            <a href={whatsappLink} class="group p-8 rounded-3xl bg-zinc-900/50 border border-white/10 hover:bg-zinc-900 transition-all duration-300 reveal-on-scroll" style={`transition-delay: ${index * 100}ms`}>
              <h3 class="text-xl font-bold text-white mb-2 group-hover:text-indigo-400 transition-colors">{item.title}</h3>
              <p class="text-gray-400 text-sm mb-4 leading-relaxed">{item.desc}</p>
              <div class="text-xs text-gray-500 font-mono uppercase tracking-wider">{item.sub}</div>
            </a>
          ))}
        </div>
      </div>
    </section>

    <!-- Stats -->
    <section class="py-12 px-6 md:px-12 bg-zinc-900/30 border-y border-white/5">
      <div class="max-w-7xl mx-auto">
        <div class="grid md:grid-cols-3 gap-8 text-center">
          <div class="reveal-on-scroll">
            <div class="text-4xl font-bold text-white mb-2">+35%</div>
            <div class="text-sm text-gray-500">Prenotazioni generate</div>
          </div>
          <div class="reveal-on-scroll delay-100">
            <div class="text-4xl font-bold text-white mb-2">12</div>
            <div class="text-sm text-gray-500">Richieste qualificate/mese</div>
          </div>
          <div class="reveal-on-scroll delay-200">
            <div class="text-4xl font-bold text-white mb-2">48h</div>
            <div class="text-sm text-gray-500">Per attivare un flusso</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Pros/Cons -->
    <section class="py-24 px-6 md:px-12">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-16 reveal-on-scroll">
          <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">Come lavoro</h2>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
          <div class="p-8 rounded-3xl bg-zinc-900/50 border border-white/10 reveal-on-scroll">
            <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
              <span class="text-green-400">✓</span> Pro
            </h3>
            <ul class="space-y-3 text-gray-400 text-sm">
              <li>Ti rispondo subito e ti dico la verità.</li>
              <li>Tempi e costi chiari prima di iniziare.</li>
              <li>Preferisco cose semplici che funzionano.</li>
            </ul>
          </div>

          <div class="p-8 rounded-3xl bg-zinc-900/50 border border-white/10 reveal-on-scroll delay-100">
            <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
              <span class="text-red-400">✕</span> Contro
            </h3>
            <ul class="space-y-3 text-gray-400 text-sm">
              <li>Se non serve, non lo faccio.</li>
              <li>Niente promesse magiche.</li>
              <li>Se non è il momento giusto, te lo dico.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Final CTA -->
    <section class="py-24 px-6 md:px-12 bg-zinc-900/30 border-t border-white/5">
      <div class="max-w-4xl mx-auto text-center reveal-on-scroll">
        <h2 class="text-4xl md:text-6xl font-bold text-white mb-8 tracking-tight">
          Partiamo dal tuo obiettivo.
        </h2>
        <p class="text-xl text-gray-400 mb-12 max-w-2xl mx-auto">
          Dimmi cosa vuoi ottenere. Se è una buona idea, la realizziamo.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href={whatsappLink} class="px-8 py-4 bg-white text-black rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.2)]">
            Scrivimi su WhatsApp
          </a>
        </div>
      </div>
    </section>

  </main>
</Layout>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
  }

  .reveal-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .reveal-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  const observerOptions = {
    root: null,
    rootMargin: '0px',
    threshold: 0.1
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.addEventListener('DOMContentLoaded', () => {
    const elements = document.querySelectorAll('.reveal-on-scroll');
    elements.forEach(el => observer.observe(el));
  });
</script>

<!-- Schema.org essenziale per contatto locale -->
<script type="application/ld+json" is:inline>
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "Bitora",
  "url": "https://bitora.it",
  "telephone": "+39 3514979670",
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "Carmagnola",
    "addressRegion": "Piemonte",
    "addressCountry": "IT"
  },
  "sameAs": [
    "https://wa.me/393514979670"
  ],
  "areaServed": ["Piemonte","Torino","Carmagnola"]
}
</script>
